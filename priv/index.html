<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baldassare Motors International SRLS-Backend</title>
    <style>
      @import "https://fonts.googleapis.com/css?family=Ubuntu:400,700italic";
      @import "https://fonts.googleapis.com/css?family=Cabin:400";
      * {
        box-sizing: border-box;
      }

      html {
        background: #000;
        background-size: cover;
        font-size: 10px;
        height: 100%;
        overflow: hidden;
        position: absolute;
        text-align: center;
        width: 100%;
      }

     
      #logo {
        animation: logo-entry 4s ease-in;
        width: 500px;
        margin: 0 auto;
        position: relative;
        z-index: 40;
      }

      h1 {
        animation: text-glow 2s ease-out infinite alternate;
        font-family: 'Ubuntu', sans-serif;
        color: #00a4a2;
        font-size: 28px;
        font-size: 2.8rem;
        font-weight: bold;
        position: absolute;
        text-shadow: 0 0 10px #000, 0 0 20px #000, 0 0 30px #000, 0 0 40px #000, 0 0 50px #000, 0 0 60px #000, 0 0 70px #000;
        top: 130px;
        left: 50%;
        transform: translateX(-50%);
      }
      h1:before {
        animation: before-glow 2s ease-out infinite alternate;
        border-left: 535px solid transparent;
        border-bottom: 10px solid #00a4a2;
        content: ' ';
        height: 0;
        position: absolute;
        right: -74px;
        top: -10px;
        width: 0;
      }
      h1:after {
        animation: after-glow 2s ease-out infinite alternate;
        border-left: 100px solid transparent;
        border-top: 16px solid #00a4a2;
        content: ' ';
        height: 0;
        position: absolute;
        right: -85px;
        top: 24px;
        transform: rotate(-47deg);
        width: 0;
      }

      
      #fade-box {
        animation: input-entry 3s ease-in;
        z-index: 4;
      }
      

      .tech-login form {
        animation: form-entry 3s ease-in-out;
        background: #111; background: linear-gradient(#004746, #111111);
        border: 6px solid #00a4a2; box-shadow: 0 0 15px #00fffd;
        border-radius: 5px; display: inline-block; height: 245px;
        margin: 200px auto 0; position: relative; z-index: 4;
        margin-top: 250px;
        width: 500px; transition: 1s all;
      }
      .tech-login form:hover {
        border: 6px solid #00fffd;
        box-shadow: 0 0 25px #00fffd;
        transition: 0.5s all;
      }

      .tech-login input {
        background: #222;
        background: linear-gradient(#333333, #222222);
        border: 1px solid #444;
        border-radius: 5px;
        box-shadow: 0 2px 0 #000;
        color: #888;
        display: block;
        font-family: 'Cabin', helvetica, arial, sans-serif;
        font-size: 13px;
        font-size: 1.3rem;
        height: 40px;
        margin: 20px auto 10px;
        padding: 0 10px;
        text-shadow: 0 -1px 0 #000;
        width: 400px;
      }
      .tech-login input:focus {
        animation: box-glow 1s ease-out infinite alternate;
        background: #0B4252;
        background: linear-gradient(#333933, #222922);
        border-color: #00fffc;
        box-shadow: 0 0 5px rgba(0, 255, 253, 0.2), inset 0 0 5px rgba(0, 255, 253, 0.1), 0 2px 0 #000;
        color: #efe;
        outline: none;
      }
      .tech-login input.error {
        border: 2px solid red;
        box-shadow: 0 0 5px rgba(255, 0, 0, 0.2), inset 0 0 5px rgba(255, 0, 0, 0.1), 0 2px 0 #000;
        animation: shake 0.5s;
      }
      .tech-login button {
        animation: input-entry 3s ease-in;
        background: #222;
        background: linear-gradient(#333333, #222222);
        box-sizing: content-box;
        border: 1px solid #444;
        border-left-color: #000;
        border-radius: 5px;
        box-shadow: 0 2px 0 #000;
        color: #fff;
        display: block;
        font-family: 'Cabin', helvetica, arial, sans-serif;
        font-size: 13px;
        font-weight: 400;
        height: 40px;
        line-height: 40px;
        margin: 20px auto;
        padding: 0;
        position: relative;
        text-shadow: 0 -1px 0 #000;
        width: 400px;
        transition: 1s all;
      }
      .tech-login button:hover,
      .tech-login button:focus {
        background: #0C6125;
        background: linear-gradient(#393939, #292929);
        color: #00fffc;
        outline: none;
        transition: 1s all;
      }
      .tech-login button:active {
        background: #292929;
        background: linear-gradient(#393939, #292929);
        box-shadow: 0 1px 0 #000, inset 1px 0 1px #222;
        top: 1px;
      }

      /* Error message */
      .error-message {
        color: #ff4444;
        font-family: 'Cabin', sans-serif;
        font-size: 12px;
        margin: 10px auto;
        text-align: center;
        opacity: 0;
        transition: opacity 0.3s;
      }
      .error-message.show {
        opacity: 1;
      }

      /* Loading state */
      .loading {
        pointer-events: none;
        opacity: 0.7;
      }

      /* =========================================
      Spinner
      ========================================= */
      #circle1 {
        animation: circle1 4s linear infinite, circle-entry 6s ease-in-out;
        background: #000;
        border-radius: 50%;
        border: 10px solid #00a4a2;
        box-shadow: 0 0 0 2px black, 0 0 0 6px #00fffc;
        height: 500px;
        width: 500px;
        position: absolute;
        top: 130px;
        left: 50%;
        margin-left: -250px;
        overflow: hidden;
        opacity: 0.4;
        z-index: -3;
      }

      #inner-cirlce1 {
        background: #000;
        border-radius: 50%;
        border: 36px solid #00fffc;
        height: 460px;
        width: 460px;
        margin: 10px;
      }
      #inner-cirlce1:before {
        content: ' ';
        width: 240px;
        height: 480px;
        background: #000;
        position: absolute;
        top: 0;
        left: 0;
      }
      #inner-cirlce1:after {
        content: ' ';
        width: 480px;
        height: 240px;
        background: #000;
        position: absolute;
        top: 0;
        left: 0;
      }

      /* =========================================
      Hexagon Mesh
      ========================================= */
      .hexagons {
        animation: logo-entry 4s ease-in;
        color: #000;
        font-size: 52px;
        font-size: 5.1rem;
        letter-spacing: -0.2em;
        line-height: 0.7;
        position: absolute;
        text-shadow: 0 0 6px #00fffc;
        top: 400px;
        width: 100%;
        transform: perspective(600px) rotateX(60deg) scale(1.4);
        z-index: -3;
      }

      /* =========================================
      Animation Keyframes
      ========================================= */
      @keyframes logo-entry {
        0% {
          opacity: 0;
        }
        80% {
          opacity: 0;
        }
        100% {
          opacity: 1;
        }
      }
      @keyframes circle-entry {
        0% {
          opacity: 0;
        }
        20% {
          opacity: 0;
        }
        100% {
          opacity: 0.4;
        }
      }
      @keyframes input-entry {
        0% {
          opacity: 0;
        }
        90% {
          opacity: 0;
        }
        100% {
          opacity: 1;
        }
      }
      @keyframes form-entry {
        0% {
          height: 0;
          width: 0;
          opacity: 0;
          padding: 0;
        }
        20% {
          height: 0;
          border: 1px solid #00a4a2;
          width: 0;
          opacity: 0;
          padding: 0;
        }
        40% {
          width: 0;
          height: 220px;
          border: 6px solid #00a4a2;
          opacity: 1;
          padding: 0;
        }
        100% {
          height: 220px;
          width: 500px;
        }
      }
      @keyframes box-glow {
        0% {
          border-color: #00b8b6;
          box-shadow: 0 0 5px rgba(0, 255, 253, 0.2), inset 0 0 5px rgba(0, 255, 253, 0.1), 0 2px 0 #000;
        }
        100% {
          border-color: #00fffc;
          box-shadow: 0 0 20px rgba(0, 255, 253, 0.6), inset 0 0 10px rgba(0, 255, 253, 0.4), 0 2px 0 #000;
        }
      }
      @keyframes text-glow {
        0% {
          color: #00a4a2;
          text-shadow: 0 0 10px #000, 0 0 20px #000, 0 0 30px #000, 0 0 40px #000, 0 0 50px #000, 0 0 60px #000, 0 0 70px #000;
        }
        100% {
          color: #00fffc;
          text-shadow: 0 0 20px rgba(0, 255, 253, 0.6), 0 0 10px rgba(0, 255, 253, 0.4), 0 2px 0 #000;
        }
      }
      @keyframes before-glow {
        0% {
          border-bottom: 10px solid #00a4a2;
        }
        100% {
          border-bottom: 10px solid #00fffc;
        }
      }
      @keyframes after-glow {
        0% {
          border-top: 16px solid #00a4a2;
        }
        100% {
          border-top: 16px solid #00fffc;
        }
      }
      @keyframes circle1 {
        0% {
          -moz-transform: rotate(0deg);
          -ms-transform: rotate(0deg);
          -webkit-transform: rotate(0deg);
          transform: rotate(0deg);
        }
        100% {
          -moz-transform: rotate(360deg);
          -ms-transform: rotate(360deg);
          -webkit-transform: rotate(360deg);
          transform: rotate(360deg);
        }
      }
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }

    </style>
  </head>
  <body>
    <div id="logo"> 
      <h1><i>Baldassare Motors International SRLS</i></h1>
    </div> 
    <section class="tech-login"> 
      <form id="loginForm">	
        <div id="fade-box">
          <input type="text" name="username" id="username" placeholder="Utente" required>
          <input type="password" name="password" id="password" placeholder="Password" required>
          <div class="error-message" id="errorMessage">Credenziali non valide</div>
          <button type="submit" id="loginBtn">Accedi</button> 
        </div>
      </form>
      <div class="hexagons">
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <br>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <br>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span> 
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <br>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <br>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
        <span>&#x2B22;</span>
      </div>      
    </section> 
    
    <div id="circle1">
      <div id="inner-cirlce1">
        <h2> </h2>
      </div>
    </div>
 
    <ul>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>    

    <script>
      // Configurazione del sistema di login
      const LOGIN_CONFIG = {
        sessionKey: 'baldassare_session',
        sessionDuration: 24 * 60 * 60 * 1000, // 24 ore in millisecondi
        redirectUrl: 'flotta.html' // Pagina a cui reindirizzare dopo il login
      };

      // Le credenziali vengono caricate dal file acc.json
      let credentials = null;

      class LoginSystem {
        constructor() {
          this.init();
        }

        async init() {
          await this.loadCredentials();
          this.checkExistingSession();
          this.setupEventListeners();
        }

        async loadCredentials() {
          try {
            const response = await fetch('./acc.json');
            if (!response.ok) {
              throw new Error('File acc.json non trovato');
            }
            credentials = await response.json();
            console.log('Credenziali caricate da acc.json');
          } catch (error) {
            console.error('Errore caricamento acc.json:', error);
            this.showError('Errore: file acc.json non trovato');
            throw error;
          }
        }

        validateCredentials(username, password) {
          if (!credentials) {
            return false;
          }
          return username === credentials.username && password === credentials.password;
        }

        createSession(username) {
          const session = {
            username: username,
            loginTime: Date.now(),
            expires: Date.now() + LOGIN_CONFIG.sessionDuration
          };
          
          // In un ambiente reale, potresti usare sessionStorage invece di localStorage
          // per maggiore sicurezza
          try {
            sessionStorage.setItem(LOGIN_CONFIG.sessionKey, JSON.stringify(session));
            console.log('Sessione creata per:', username);
          } catch (error) {
            console.warn('Impossibile salvare la sessione:', error);
          }
        }

        getSession() {
          try {
            const sessionData = sessionStorage.getItem(LOGIN_CONFIG.sessionKey);
            return sessionData ? JSON.parse(sessionData) : null;
          } catch (error) {
            console.warn('Errore nel recupero della sessione:', error);
            return null;
          }
        }

        showError(message) {
          const errorElement = document.getElementById('errorMessage');
          const inputs = document.querySelectorAll('.tech-login input');
          
          errorElement.textContent = message;
          errorElement.classList.add('show');
          
          inputs.forEach(input => {
            input.classList.add('error');
          });
        }

        clearErrors() {
          const errorElement = document.getElementById('errorMessage');
          const inputs = document.querySelectorAll('.tech-login input');
          
          errorElement.classList.remove('show');
          inputs.forEach(input => {
            input.classList.remove('error');
          });
        }

        showSuccess() {
          const errorElement = document.getElementById('errorMessage');
          errorElement.textContent = 'Accesso effettuato con successo!';
          errorElement.style.color = '#00fffc';
          errorElement.classList.add('show');
        }

        redirectToDashboard() {
          // In un ambiente reale, reindirizza alla dashboard o alla pagina principale
          console.log('Reindirizzamento alla dashboard...');
          
          // Per demo, mostra un messaggio
          document.body.innerHTML = `
            <div style="display: flex; align-items: center; justify-content: center; height: 100vh; color: #00fffc; font-family: 'Ubuntu', sans-serif; text-align: center;">
              <div>
                <h1 style="font-size: 3rem; margin-bottom: 20px;">Benvenuto!</h1>
                <p style="font-size: 1.5rem;">Accesso effettuato con successo.</p>
                <p style="font-size: 1.2rem; margin-top: 20px;">In un ambiente reale, ora saresti reindirizzato alla dashboard.</p>
                <button onclick="logout()" style="margin-top: 30px; padding: 10px 20px; background: #00a4a2; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem;">Logout</button>
              </div>
            </div>
          `;
          
          // window.location.href = LOGIN_CONFIG.redirectUrl;
        }

        static logout() {
          try {
            sessionStorage.removeItem(LOGIN_CONFIG.sessionKey);
            window.location.reload();
          } catch (error) {
            console.warn('Errore durante il logout:', error);
            window.location.reload();
          }
        }
      }

      // Funzione globale per il logout
      function logout() {
        LoginSystem.logout();
      }

      // Inizializza il sistema di login quando la pagina è caricata
      document.addEventListener('DOMContentLoaded', () => {
        new LoginSystem();
      });

      // Impedisce la navigazione indietro dopo il login
      window.addEventListener('pageshow', (event) => {
        if (event.persisted) {
          window.location.reload();
        }
      });
    </script>
  </body>
</html>